<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>


<style>
  a{
    border: solid 0.5px black;
    border-radius: 10px;
    margin: 40px;
    padding: 5px 20px;
  }


  a, button:hover {
    cursor: pointer;
  }
  #row1{
    border: black 1px solid;
    text-align: right;
    padding: 20px;
  }



  #row2{
    border: black 1px solid;
    padding: 20px;
  }


  #row3{
    border: green 1px solid;
    padding: 20px;
  

  }

  #row3 div{
    display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  padding: 10px;
    
  }

  .tb div{
    border: solid green 1px;
  }

</style>
</head>
<body>

<div id="row1">
  <a>Add new word</a>
</div>

<div id="row2">
  <a>Best results first</a>
  <a>Worst results first</a>
  <a>Random</a>
  <a>best</a>
  <a href="">worst</a>
  <a href="">newest</a>
  <a href="">oldest</a>
</div>

<div id="row3">
  row 3
</div>

<div id="testing">TEST JSON</div>


<script>
// GET TABLE FROM THE SERVER 

//const tabe_db = new Object();
let tabe_db = [];

// AJAX
const xhttp = new XMLHttpRequest();

// Recive JSON and convert to object 
xhttp.onload = function() {
  //document.getElementById("testing").innerText=this.responseText;
  console.log(JSON.parse(this.responseText));
  tabe_db = JSON.parse(this.responseText);
        console.log(tabe_db);

// function display table with vocabulary on the webpage.  
let table ="";
for (let x in tabe_db) {
  console.log("yes ");
  let btn = tabe_db[x].newword;
  table = table + "<div class='tb'>"+
    "<div><button value='"+x+"' onclick='display(this)'>"+ btn +"</button></div> <div></div> <div></div>" +"</div>";
  document.getElementById("row3").innerHTML=table;
  
}


}

// Send a request
xhttp.open("GET", "db.php");
xhttp.send();




//  SCREEN 
let gues = [{"a1":"car","a2":"samochod","a3":"95","a4":"0000-00-00"},
{"a1":"dog","a2":"pies","a3":"99","a4":"0000-00-00"}
];

let words = [
 ["sleep", "spac", 78],
 ["walk", "isc", 89],
 ["cat", "kot", 99],
 ["car", "samochod", 90]
]


// function activeted after after word is pressed/ this activate buttons for rating  
function display(ev){
let x = ev.value;
let child = document.getElementById("row3").children[x];
console.log(child);
let showword = tabe_db[x].transl;
console.log(showword);
child.children[1].innerText = showword;
child.children[2].innerHTML = "<button onclick='color(this)'>bad</button><button onclick='color(this)'>good</button>";
}

function color(ev){
  let element = ev.parentElement.parentElement.children[0].children[0];
console.log(element.value);

if(ev.innerText == "bad"){
element.parentElement.parentElement.style.backgroundColor = "rgb(255, 204, 204)";
ev.parentElement.innerHTML="";
}else if(ev.innerText == "good"){
  element.parentElement.parentElement.style.backgroundColor  = "rgb(204, 255, 179)";
  ev.parentElement.innerHTML="";
}else{
  console.log("error with understing button color");
}
}

//this line was made on mobile phin

 var obj1 = { a: 10 };
         obj1 = Object.assign({}, obj1);
        console.log(obj1);


</script>

</body>
</html>